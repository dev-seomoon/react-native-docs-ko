<-- Tab : ğŸš§ tvOS -->

# TV ê¸°ê¸°ë¥¼ ìœ„í•œ ë¹Œë“œ

TV ì¥ì¹˜ ì§€ì›ì€ ê¸°ì¡´ React Native ì‘ìš© í”„ë¡œê·¸ë¨ì´ Apple TV ë° Android TVì—ì„œ ì‘ë™í•˜ë„ë¡ êµ¬í˜„ë˜ì—ˆìœ¼ë©° ì‘ìš© í”„ë¡œê·¸ë¨ì˜ JavaScript ì½”ë“œë¥¼ ê±°ì˜ ë˜ëŠ” ì „í˜€ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ë©ë‹ˆë‹¤.


> **ì‚¬ìš©ë˜ì§€ ì•ŠìŒ.** [react-native-tvos](https://github.com/react-native-community/react-native-tvos)ë¥¼ ëŒ€ì‹  ì‚¬ìš©í•˜ì„¸ìš”. [0.62 release blog post](https://reactnative.dev/blog/#moving-apple-tv-to-react-native-tvos)ì—ì„œ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ë¹Œë“œ ë³€ê²½[#](https://reactnative.dev/docs/building-for-tv#build-changes-1)

- *Native layer*: React Native Xcode í”„ë¡œì íŠ¸ëŠ” ì´ì œ ì´ë¦„ì´ `-tvOS`ë¬¸ìì—´ë¡œ ëë‚˜ëŠ” Apple TV ë¹Œë“œ ëŒ€ìƒì„ ê°–ìŠµë‹ˆë‹¤.
- *react-native init*: `react-native init`ë¡œ ìƒì„± ëœ ìƒˆë¡œìš´ React Native í”„ë¡œì íŠ¸ì—ëŠ” XCode í”„ë¡œì íŠ¸ì—ì„œ Apple TV ëŒ€ìƒì´ ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤.
- *JavaScript layer*: Apple TV ì§€ì›ì´`Platform.ios.js`ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒì„ ìˆ˜í–‰í•˜ì—¬ ì½”ë“œê°€ AppleTVì—ì„œ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
var Platform = require('Platform');
var running_on_tv = Platform.isTV;

// If you want to be more specific and only detect devices running tvOS
// (but no Android TV devices) you can use:
var running_on_apple_tv = Platform.isTVOS;
```

## ì½”ë“œ ë³€ê²½[#](https://reactnative.dev/docs/building-for-tv#code-changes-1)

- *General support for tvOS*: ë„¤ì´í‹°ë¸Œ ì½”ë“œì˜ Apple TV íŠ¹ì • ë³€ê²½ ì‚¬í•­ì€ ëª¨ë‘ TARGET_OS_TV ì •ì˜ì— ì˜í•´ ë˜í•‘ë©ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” tvOSì—ì„œ ì§€ì›ë˜ì§€ ì•ŠëŠ” API (ì˜ˆ : ì›¹ë³´ê¸°, ìŠ¬ë¼ì´ë”, ìŠ¤ìœ„ì¹˜, ìƒíƒœ í‘œì‹œ ì¤„ ë“±)ë¥¼ ë§‰ê¸° ìœ„í•œ ë³€ê²½ ì‚¬í•­ê³¼ TV ë¦¬ëª¨ì»¨ ë˜ëŠ” í‚¤ë³´ë“œì—ì„œ ì‚¬ìš©ì ì…ë ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ë³€ê²½ ì‚¬í•­ì´ í¬í•¨ë©ë‹ˆë‹¤.
- *Common codebase*: tvOSì™€ iOSëŠ” ëŒ€ë¶€ë¶„ì˜ Objective-C ë° JavaScript ì½”ë“œë¥¼ ê³µí†µì ìœ¼ë¡œ ê³µìœ í•˜ë¯€ë¡œ iOSì— ëŒ€í•œ ëŒ€ë¶€ë¶„ì˜ ë¬¸ì„œëŠ” tvOSì— ë™ì¼í•˜ê²Œ ì ìš©ë©ë‹ˆë‹¤.
- *Access to touchable controls*: Apple TVì—ì„œ ì‹¤í–‰í•  ë•Œ ë„¤ì´í‹°ë¸Œ ë·° í´ë˜ìŠ¤ëŠ”`RCTTVView`ì´ë©° tvOS í¬ì»¤ìŠ¤ ì—”ì§„ì„ ì‚¬ìš©í•˜ê¸°ìœ„í•œ ì¶”ê°€ ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤. `Touchable` ë¯¹ìŠ¤ì¸ì—ëŠ” í¬ì»¤ìŠ¤ ë³€ê²½ì„ ê°ì§€í•˜ê³  ê¸°ì¡´ ë°©ë²•ì„ ì‚¬ìš©í•˜ì—¬ êµ¬ì„± ìš”ì†Œì˜ ìŠ¤íƒ€ì¼ì„ ì ì ˆí•˜ê²Œ ì§€ì •í•˜ê³  TV ë¦¬ëª¨ì»¨ì„ ì‚¬ìš©í•˜ì—¬ë³´ê¸°ë¥¼ ì„ íƒí•  ë•Œ ì ì ˆí•œ ì‘ì—…ì„ ì‹œì‘í•˜ëŠ” ì½”ë“œê°€ ì¶”ê°€ë˜ì–´`TouchableWithoutFeedback`,`TouchableHighlight` ë°`TouchableOpacity`ê°€ ì˜ˆìƒëŒ€ë¡œ ì‘ë™í•©ë‹ˆë‹¤. íŠ¹íˆ:
  - `onFocus`ëŠ” í„°ì¹˜ ê°€ëŠ¥í•œ ë·°ì— ì´ˆì ì´ ë§ì¶°ì§€ë©´ ì‹¤í–‰ë©ë‹ˆë‹¤.
  - `onBlur`ëŠ” í„°ì¹˜ ê°€ëŠ¥í•œ ë·°ì˜ ì´ˆì ì´ ë§ì§€ ì•Šì„ ë•Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
  - `onPress`ëŠ” TV ë¦¬ëª¨ì»¨ì˜ "ì„ íƒ"ë²„íŠ¼ì„ ëˆŒëŸ¬ ì‹¤ì œë¡œ í„°ì¹˜ ê°€ëŠ¥í•œ ë³´ê¸°ë¥¼ ì„ íƒí•œ ê²½ìš° ì‹¤í–‰ë©ë‹ˆë‹¤.
- *TV remote/keyboard input*: ìƒˆë¡œìš´ ë„¤ì´í‹°ë¸Œ í´ë˜ìŠ¤`RCTTVRemoteHandler`ëŠ” TV ì›ê²© ì´ë²¤íŠ¸ì— ëŒ€í•œ ì œìŠ¤ì²˜ ì¸ì‹ê¸°ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤. TV ì›ê²© ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì´ í´ë˜ìŠ¤ëŠ”`RCTTVNavigationEventEmitter` (`RCTEventEmitter`ì˜ í•˜ìœ„ í´ë˜ìŠ¤)ì— ì˜í•´ ì„ íƒë˜ëŠ” ì•Œë¦¼ì„ ë°œìƒì‹œì¼œ JS ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤. ì´ ì´ë²¤íŠ¸ëŠ”`TVEventHandler` ìë°” ìŠ¤í¬ë¦½íŠ¸ ê°œì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ì˜í•´ ì„ íƒë©ë‹ˆë‹¤. TV ì›ê²© ì´ë²¤íŠ¸ì˜ ì‚¬ìš©ì ì§€ì • ì²˜ë¦¬ë¥¼ êµ¬í˜„í•´ì•¼í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œëŠ” ë‹¤ìŒ ì½”ë“œì—ì„œì™€ ê°™ì´`TVEventHandler`ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  ì´ëŸ¬í•œ ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```js
var TVEventHandler = require('TVEventHandler');

class Game2048 extends React.Component {
  _tvEventHandler: any;

  _enableTVEventHandler() {
    this._tvEventHandler = new TVEventHandler();
    this._tvEventHandler.enable(this, function (cmp, evt) {
      if (evt && evt.eventType === 'right') {
        cmp.setState({ board: cmp.state.board.move(2) });
      } else if (evt && evt.eventType === 'up') {
        cmp.setState({ board: cmp.state.board.move(1) });
      } else if (evt && evt.eventType === 'left') {
        cmp.setState({ board: cmp.state.board.move(0) });
      } else if (evt && evt.eventType === 'down') {
        cmp.setState({ board: cmp.state.board.move(3) });
      } else if (evt && evt.eventType === 'playPause') {
        cmp.restartGame();
      }
    });
  }

  _disableTVEventHandler() {
    if (this._tvEventHandler) {
      this._tvEventHandler.disable();
      delete this._tvEventHandler;
    }
  }

  componentDidMount() {
    this._enableTVEventHandler();
  }

  componentWillUnmount() {
    this._disableTVEventHandler();
  }
}
```

- *Dev Menu support*: ì‹œë®¬ë ˆì´í„°ì—ì„œ cmd-DëŠ” iOSì™€ ìœ ì‚¬í•œ ê°œë°œì ë©”ë‰´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. ì‹¤ì œ Apple TV ì¥ì¹˜ì—ì„œ ë¶ˆëŸ¬ ì˜¤ë ¤ë©´ ë¦¬ëª¨ì»¨ì˜ ì¬ìƒ/ì¼ì‹œ ì¤‘ì§€ ë²„íŠ¼ì„ ê¸¸ê²Œ ëˆ„ë¦…ë‹ˆë‹¤. (ì‘ë™í•˜ì§€ ì•ŠëŠ” Apple TV ì¥ì¹˜ë¥¼ í”ë“¤ì§€ ë§ˆì„¸ìš” :) )
- *TV remote animations*: `RCTTVView` ë„¤ì´í‹°ë¸Œ ì½”ë“œëŠ” ì‚¬ìš©ìê°€ ë·°ë¥¼ íƒìƒ‰ í•  ë•Œ ëˆˆì„ ì•ˆë‚´í•˜ëŠ” ë° ë„ì›€ì´ë˜ëŠ” Apple ê¶Œì¥ ì‹œì°¨ ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„í•©ë‹ˆë‹¤. ì• ë‹ˆë©”ì´ì…˜ì€ ìƒˆë¡œìš´ ì„ íƒì  ë·° ì†ì„±ìœ¼ë¡œ ë¹„í™œì„±í™”í•˜ê±°ë‚˜ ì¡°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- *Back navigation with the TV remote menu button*: ì›ë˜ Android ë’¤ë¡œ ë²„íŠ¼ì„ ì§€ì›í•˜ë„ë¡ ì‘ì„±ëœ`BackHandler` êµ¬ì„± ìš”ì†ŒëŠ” ì´ì œ TV ë¦¬ëª¨ì»¨ì˜ ë©”ë‰´ ë²„íŠ¼ì„ ì‚¬ìš©í•˜ì—¬ Apple TVì—ì„œ ë’¤ë¡œ íƒìƒ‰ì„ ì§€ì›í•©ë‹ˆë‹¤.
- *TabBarIOS behavior*: `TabBarIOS` êµ¬ì„± ìš”ì†ŒëŠ” Apple TVì—ì„œ ë‹¤ë¥´ê²Œ ì‘ë™í•˜ëŠ” ê¸°ë³¸`UITabBar` APIë¥¼ ë˜í•‘í•©ë‹ˆë‹¤. tvOSì—ì„œ íƒ­ í‘œì‹œ ì¤„ì´ ë¶ˆì•ˆì •í•˜ê²Œ ë‹¤ì‹œ ë Œë”ë§ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ([this issue](https://github.com/facebook/react-native/issues/15081)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.) ì„ íƒí•œ íƒ­ í‘œì‹œ ì¤„ í•­ëª©ì€ JavaScriptì—ì„œë§Œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆê¸° ë Œë”ë§ì‹œ ì‚¬ìš©ìê°€ ë„¤ì´í‹°ë¸Œ ì½”ë“œë¥¼ í†µí•´ ì œì–´í•©ë‹ˆë‹¤.
- *Known issues*:
  - [ListView scrolling](https://github.com/facebook/react-native/issues/12793). ì´ ë¬¸ì œëŠ” ListView ë° ìœ ì‚¬í•œ êµ¬ì„± ìš”ì†Œì—ì„œ`removeClippedSubviews`ë¥¼ falseë¡œ ì„¤ì •í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì œì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ [this PR](https://github.com/facebook/react-native/pull/12944)ì„ ì°¸ì¡°í•˜ì„¸ìš”.
